# =============================================================================
# ECHO OS Barebone - Environment Variables Template
# =============================================================================

# -----------------------------------------------------------------------------
# Service Configuration (REQUIRED)
# -----------------------------------------------------------------------------
# These values customize the service identity
SERVICE_NAME=AIアシスタント
OFFICE_NAME=事務所名
PERSONA_NAME=AIエキスパート
BASE_DOMAIN=example.com
DEFAULT_OFFICE_ID=default

# Environment (dev, staging, prod)
ENV=dev

# -----------------------------------------------------------------------------
# Layer Feature Flags
# -----------------------------------------------------------------------------
# Enable/disable each RAG layer
L1_ENABLED=true
L3_ENABLED=false
L4_ENABLED=true
L5_ENABLED=true

# -----------------------------------------------------------------------------
# LLM Configuration (At least one required)
# -----------------------------------------------------------------------------
# Anthropic Claude (Recommended - Claude optimized prompts)
ANTHROPIC_API_KEY=

# OpenAI (Fallback or embedding)
OPENAI_API_KEY=

# Google Gemini (Optional)
GOOGLE_API_KEY=

# Primary LLM selection (claude, gemini, openai)
# If not set, uses Claude when ANTHROPIC_API_KEY is present
PRIMARY_LLM=

# -----------------------------------------------------------------------------
# Azure AI Search Configuration
# -----------------------------------------------------------------------------
# Required if using Azure AI Search for L1 or L4
L1_USE_AZURE_AI_SEARCH=false
L4_USE_AZURE_AI_SEARCH=false

AZURE_SEARCH_ENDPOINT=
AZURE_SEARCH_API_KEY=
AZURE_SEARCH_INDEX_NAME=your-l4-index
AZURE_SEARCH_L1_INDEX_NAME=your-l1-index

# Semantic ranker (requires S2 tier or higher)
L1_USE_SEMANTIC_RANKER=false

# -----------------------------------------------------------------------------
# AWS Configuration
# -----------------------------------------------------------------------------
AWS_REGION=ap-northeast-1

# DynamoDB Tables
DDB_TABLE_CONV=ConversationMemory
DDB_TABLE_THREADS=ConversationThreads
DDB_TABLE_MESSAGES=ConversationMessages
DDB_TABLE_TENANTS=Tenants
DDB_TABLE_CLIENTS=Clients
DDB_TABLE_CLIENT_TOKENS=ClientTokens
DDB_TABLE_ESCALATION=EscalationQueue
DDB_TABLE_SESSIONS=Sessions

# S3 Configuration
L5_S3_BUCKET=
L5_S3_LIFECYCLE_DAYS=180

# -----------------------------------------------------------------------------
# Layer 5 (Conversation Memory) Configuration
# -----------------------------------------------------------------------------
L5_K_RECENT=5
L5_SEMANTIC_ENABLED=false
L5_SEMANTIC_K=6

# -----------------------------------------------------------------------------
# Authentication
# -----------------------------------------------------------------------------
# JWT Configuration (REQUIRED for production)
JWT_SECRET_KEY=
JWT_KEY_ID=v1
JWT_ALGORITHM=HS256

# Admin API Key (REQUIRED for production admin access)
ADMIN_API_KEY=

# Session Configuration
SESSION_COOKIE_NAME=client_session
SESSION_MAX_AGE=2592000

# Client Auth Bypass (testing only, must be false in production)
CLIENT_AUTH_BYPASS=false

# -----------------------------------------------------------------------------
# OAuth Configuration (Optional)
# -----------------------------------------------------------------------------
# Google OAuth
GOOGLE_OAUTH_CLIENT_ID=
GOOGLE_OAUTH_CLIENT_SECRET=
GOOGLE_OAUTH_REDIRECT_URI=

# Microsoft OAuth (Azure AD / Entra ID)
MICROSOFT_OAUTH_CLIENT_ID=
MICROSOFT_OAUTH_CLIENT_SECRET=
MICROSOFT_OAUTH_REDIRECT_URI=
MICROSOFT_OAUTH_TENANT_ID=common

# -----------------------------------------------------------------------------
# Client Portal
# -----------------------------------------------------------------------------
CLIENT_PORTAL_ENABLED=false

# -----------------------------------------------------------------------------
# GFS (Google Drive File Sync) - Optional
# -----------------------------------------------------------------------------
GFS_ENABLED=false
GFS_ROOT_FOLDER_ID=
GFS_SERVICE_ACCOUNT_JSON=
GFS_POLL_INTERVAL_MINUTES=60

# -----------------------------------------------------------------------------
# OneDrive Integration - Optional
# -----------------------------------------------------------------------------
ONEDRIVE_POLLER_ENABLED=false
ONEDRIVE_POLL_INTERVAL_MINUTES=60
MICROSOFT_OAUTH_REFRESH_TOKEN=

# -----------------------------------------------------------------------------
# Legacy Compatibility
# -----------------------------------------------------------------------------
LEGACY_COMPAT_ENABLED=false

# -----------------------------------------------------------------------------
# CBR (Case-Based Reasoning) - Optional
# -----------------------------------------------------------------------------
CBR_ENABLED=false
DDB_TABLE_CBR_CASES=CBRCases

# -----------------------------------------------------------------------------
# RAG Configuration
# -----------------------------------------------------------------------------
RAG_BACKEND=bundled
RAG_DATA_DIR=/app/data

# L1 Index Configuration
L1_ACTIVE_INDEX_S3_PATH=

# -----------------------------------------------------------------------------
# Server Configuration
# -----------------------------------------------------------------------------
PORT=8000
PYTHONPATH=/app

# Locale (UTF-8)
LANG=C.UTF-8
LC_ALL=C.UTF-8
PYTHONIOENCODING=utf-8
PYTHONUNBUFFERED=1
